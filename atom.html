<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;atom - byond</title>
</head>
<body>
<header>
    <a href="index.html">byond</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="atom.html#var">Var Details</a> - <a href="atom.html#proc">Proc Details</a></header>
<main>
<h1>atom <aside>/<a href="atom.html">atom</a></aside><aside> inherits /<a href="datum.html">datum</a></aside>
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/2344715a1d9af8bd74ca9f8e9891fb381c6778a9/code/game/atoms.dm#L1">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;atoms.dm 1"/></a></h1>

<table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr>
            <tr><th><a href="atom.html#var/chat_color">chat_color</a></th><td>Last color calculated for the the chatmessage overlays</td></tr>
            <tr><th><a href="atom.html#var/chat_color_darkened">chat_color_darkened</a></th><td>A luminescence-shifted value of the last color calculated for chatmessage overlays</td></tr>
            <tr><th><a href="atom.html#var/chat_color_name">chat_color_name</a></th><td>Last name used to calculate a color for the chatmessage overlays</td></tr>
            <tr><th><a href="atom.html#var/explosion_block">explosion_block</a></th><td>How much does this atom block the explosion's shock wave.</td></tr>
            <tr><th><a href="atom.html#var/light">light</a></th><td>Our light source. Don't fuck with this directly unless you have a good reason!</td></tr>
            <tr><th><a href="atom.html#var/light_color">light_color</a></th><td>Hexadecimal RGB string representing the colour of the light. White by default.</td></tr>
            <tr><th><a href="atom.html#var/light_on">light_on</a></th><td>Boolean variable for toggleable lights. Has no effect without the proper light_system, light_range and light_power values.</td></tr>
            <tr><th><a href="atom.html#var/light_power">light_power</a></th><td>Intensity of the light. The stronger, the less shadows you will see on the lit area.</td></tr>
            <tr><th><a href="atom.html#var/light_range">light_range</a></th><td>Range of the light in tiles. Zero means no light.</td></tr>
            <tr><th><a href="atom.html#var/light_sources">light_sources</a></th><td>Any light sources that are &quot;inside&quot; of us, for example, if src here was a mob that's carrying a flashlight, that flashlight's light source would be part of this list.</td></tr>
            <tr><th><a href="atom.html#var/light_system">light_system</a></th><td>Light systems, both shouldn't be active at the same time.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="atom.html#proc/Initialize">Initialize</a></th><td>The primary method that objects are setup in SS13 with</td></tr>
            <tr><th><a href="atom.html#proc/add_blood">add_blood</a></th><td>add_blood</td></tr>
            <tr><th><a href="atom.html#proc/contents_ui_distance">contents_ui_distance</a></th><td>public</td></tr>
            <tr><th><a href="atom.html#proc/rc_vc_msg_prefs_check">rc_vc_msg_prefs_check</a></th><td>Returns the client runechat visible messages preference according to the message type.</td></tr>
            <tr><th><a href="atom.html#proc/set_opacity">set_opacity</a></th><td>Updates the atom's opacity value.</td></tr>
            <tr><th><a href="atom.html#proc/shuttleRotate">shuttleRotate</a></th><td>Base proc</td></tr>
            <tr><th><a href="atom.html#proc/update_icon">update_icon</a></th><td>Updates the icon of the atom</td></tr>
            <tr><th><a href="atom.html#proc/update_icon_state">update_icon_state</a></th><td>Updates the icon state of the atom</td></tr>
            <tr><th><a href="atom.html#proc/update_light">update_light</a></th><td>Will update the light (duh). Creates or destroys it if needed, makes it update values, makes sure it's got the correct source turf...</td></tr>
            <tr><th><a href="atom.html#proc/update_overlays">update_overlays</a></th><td>Updates the overlays of the atom</td></tr></table>
    <h2 id="var">Var Details</h2><h3 id="var/chat_color"><aside class="declaration">var </aside>chat_color
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/2344715a1d9af8bd74ca9f8e9891fb381c6778a9/code/game/atoms.dm#L64">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;atoms.dm 64"/></a></h3>
        <p>Last color calculated for the the chatmessage overlays</p><h3 id="var/chat_color_darkened"><aside class="declaration">var </aside>chat_color_darkened
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/2344715a1d9af8bd74ca9f8e9891fb381c6778a9/code/game/atoms.dm#L76">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;atoms.dm 76"/></a></h3>
        <p>A luminescence-shifted value of the last color calculated for chatmessage overlays</p><h3 id="var/chat_color_name"><aside class="declaration">var </aside>chat_color_name
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/2344715a1d9af8bd74ca9f8e9891fb381c6778a9/code/game/atoms.dm#L62">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;atoms.dm 62"/></a></h3>
        <p>Last name used to calculate a color for the chatmessage overlays</p><h3 id="var/explosion_block"><aside class="declaration">var </aside>explosion_block
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/2344715a1d9af8bd74ca9f8e9891fb381c6778a9/code/game/atoms.dm#L33">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;atoms.dm 33"/></a></h3>
        <p>How much does this atom block the explosion's shock wave.</p><h3 id="var/light"><aside class="declaration">var </aside>light
            <aside>&ndash; /tmp/<a href="datum.html">datum</a>/light_source</aside>
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/2344715a1d9af8bd74ca9f8e9891fb381c6778a9/code/game/atoms.dm#L55">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;atoms.dm 55"/></a></h3>
        <p>Our light source. Don't fuck with this directly unless you have a good reason!</p><h3 id="var/light_color"><aside class="declaration">var </aside>light_color
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/2344715a1d9af8bd74ca9f8e9891fb381c6778a9/code/game/atoms.dm#L51">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;atoms.dm 51"/></a></h3>
        <p>Hexadecimal RGB string representing the colour of the light. White by default.</p><h3 id="var/light_on"><aside class="declaration">var </aside>light_on
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/2344715a1d9af8bd74ca9f8e9891fb381c6778a9/code/game/atoms.dm#L53">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;atoms.dm 53"/></a></h3>
        <p>Boolean variable for toggleable lights. Has no effect without the proper light_system, light_range and light_power values.</p><h3 id="var/light_power"><aside class="declaration">var </aside>light_power
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/2344715a1d9af8bd74ca9f8e9891fb381c6778a9/code/game/atoms.dm#L49">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;atoms.dm 49"/></a></h3>
        <p>Intensity of the light. The stronger, the less shadows you will see on the lit area.</p><h3 id="var/light_range"><aside class="declaration">var </aside>light_range
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/2344715a1d9af8bd74ca9f8e9891fb381c6778a9/code/game/atoms.dm#L47">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;atoms.dm 47"/></a></h3>
        <p>Range of the light in tiles. Zero means no light.</p><h3 id="var/light_sources"><aside class="declaration">var </aside>light_sources
            <aside>&ndash; /tmp/list</aside>
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/2344715a1d9af8bd74ca9f8e9891fb381c6778a9/code/game/atoms.dm#L57">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;atoms.dm 57"/></a></h3>
        <p>Any light sources that are &quot;inside&quot; of us, for example, if src here was a mob that's carrying a flashlight, that flashlight's light source would be part of this list.</p><h3 id="var/light_system"><aside class="declaration">var </aside>light_system
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/2344715a1d9af8bd74ca9f8e9891fb381c6778a9/code/game/atoms.dm#L45">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;atoms.dm 45"/></a></h3>
        <p>Light systems, both shouldn't be active at the same time.</p><h2 id="proc">Proc Details</h2><h3 id="proc/Initialize"><aside class="declaration">proc </aside>Initialize<aside>(mapload, ...) 
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/2344715a1d9af8bd74ca9f8e9891fb381c6778a9/code/game/atoms.dm#L550">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;atoms.dm 550"/></a></aside>
        </h3>
        <p>The primary method that objects are setup in SS13 with</p>
<p>we don't use New as we have better control over when this is called and we can choose
to delay calls or hook other logic in and so forth</p>
<p>During roundstart map parsing, atoms are queued for intialization in the base atom/New(),
After the map has loaded, then Initalize is called on all atoms one by one. NB: this
is also true for loading map templates as well, so they don't Initalize until all objects
in the map file are parsed and present in the world</p>
<p>If you're creating an object at any point after SSInit has run then this proc will be
immediately be called from New.</p>
<p>mapload: This parameter is true if the atom being loaded is either being intialized during
the Atom subsystem intialization, or if the atom is being loaded from the map template.
If the item is being created at runtime any time after the Atom subsystem is intialized then
it's false.</p>
<p>You must always call the parent of this proc, otherwise failures will occur as the item
will not be seen as initalized (this can lead to all sorts of strange behaviour, like
the item being completely unclickable)</p>
<p>You must not sleep in this proc, or any subprocs</p>
<p>Any parameters from new are passed through (excluding loc), naturally if you're loading from a map
there are no other arguments</p>
<p>Must return an [initialization hint][INITIALIZE_HINT_NORMAL] or a runtime will occur.</p>
<p>Note: the following functions don't call the base for optimization and must copypasta handling:</p>
<ul>
<li><a href="turf.html" title="/turf">/turf/Initialize</a></li>
<li><a href="turf.html" title="/turf">/turf/open/space/Initialize</a></li>
</ul><h3 id="proc/add_blood"><aside class="declaration">proc </aside>add_blood<aside>(b_color) 
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/2344715a1d9af8bd74ca9f8e9891fb381c6778a9/code/game/blood.dm#L15">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;blood.dm 15"/></a></aside>
        </h3>
        <p>add_blood</p><h3 id="proc/contents_ui_distance"><aside class="declaration">proc </aside>contents_ui_distance<aside>(src_object, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user) 
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/2344715a1d9af8bd74ca9f8e9891fb381c6778a9/code/modules/tgui/states.dm#L79">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;tgui&#x2F;states.dm 79"/></a></aside>
        </h3>
        <p>public</p>
<p>Check the distance for a living mob.
Really only used for checks outside the context of a mob.
Otherwise, use shared_living_ui_distance().</p>
<p>required src_object The object which owns the UI.
required user mob The mob who opened/is using the UI.</p>
<p>return UI_state The state of the UI.</p><h3 id="proc/rc_vc_msg_prefs_check"><aside class="declaration">proc </aside>rc_vc_msg_prefs_check<aside>(/<a href="mob.html">mob</a>/target, visible_message_flags) 
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/2344715a1d9af8bd74ca9f8e9891fb381c6778a9/code/modules/mob/mob.dm#L204">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;mob&#x2F;mob.dm 204"/></a></aside>
        </h3>
        <p>Returns the client runechat visible messages preference according to the message type.</p><h3 id="proc/set_opacity"><aside class="declaration">proc </aside>set_opacity<aside>(new_opacity) 
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/2344715a1d9af8bd74ca9f8e9891fb381c6778a9/code/modules/lighting/lighting_atom.dm#L57">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;lighting&#x2F;lighting_atom.dm 57"/></a></aside>
        </h3>
        <p>Updates the atom's opacity value.</p>
<p>This exists to act as a hook for associated behavior.
It notifies (potentially) affected light sources so they can update (if needed).</p><h3 id="proc/shuttleRotate"><aside class="declaration">proc </aside>shuttleRotate<aside>(rotation, params) 
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/2344715a1d9af8bd74ca9f8e9891fb381c6778a9/code/modules/shuttle/shuttle_rotate.dm#L9">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;shuttle&#x2F;shuttle_rotate.dm 9"/></a></aside>
        </h3>
        <p>Base proc</p><h3 id="proc/update_icon"><aside class="declaration">proc </aside>update_icon<aside>() 
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/2344715a1d9af8bd74ca9f8e9891fb381c6778a9/code/game/atoms.dm#L290">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;atoms.dm 290"/></a></aside>
        </h3>
        <p>Updates the icon of the atom</p><h3 id="proc/update_icon_state"><aside class="declaration">proc </aside>update_icon_state<aside>() 
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/2344715a1d9af8bd74ca9f8e9891fb381c6778a9/code/game/atoms.dm#L306">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;atoms.dm 306"/></a></aside>
        </h3>
        <p>Updates the icon state of the atom</p><h3 id="proc/update_light"><aside class="declaration">proc </aside>update_light<aside>() 
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/2344715a1d9af8bd74ca9f8e9891fb381c6778a9/code/modules/lighting/lighting_atom.dm#L23">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;lighting&#x2F;lighting_atom.dm 23"/></a></aside>
        </h3>
        <p>Will update the light (duh). Creates or destroys it if needed, makes it update values, makes sure it's got the correct source turf...</p><h3 id="proc/update_overlays"><aside class="declaration">proc </aside>update_overlays<aside>() 
        
    
            <a href="https://github.com/tgstation/TerraGov-Marine-Corps/blob/2344715a1d9af8bd74ca9f8e9891fb381c6778a9/code/game/atoms.dm#L309">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;atoms.dm 309"/></a></aside>
        </h3>
        <p>Updates the overlays of the atom</p></main>
<footer>
    tgmc.dme
    <a href="https://github.com/tgstation/TerraGov-Marine-Corps/tree/2344715a1d9af8bd74ca9f8e9891fb381c6778a9">2344715</a>
        (master) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/src/dmdoc/README.md">dmdoc 1.2.2</a></footer>
</body>
</html>
